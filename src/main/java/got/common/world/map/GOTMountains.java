package got.common.world.map;

public enum GOTMountains {
	IBBEN_WALL_1(2847, 1273, 2.0F, 50), IBBEN_WALL_2(2588, 1275, 2.0F, 50), IBBEN_WALL_3(2708, 1230, 2.0F, 50), IBBEN_WALL_4(2638, 1252, 2.0F, 50), KING_SPEARS_01(793, 1646, 4.0F, 40), KING_SPEARS_02(795, 1650, 4.0F, 40), KING_SPEARS_03(798, 1646, 4.0F, 40), KING_SPEARS_04(800, 1648, 4.0F, 40), KING_SPEARS_05(800, 1652, 4.0F, 40), KING_SPEARS_06(805, 1646, 4.0F, 40), KING_SPEARS_07(805, 1650, 4.0F, 40), KING_SPEARS_08(804, 1654, 4.0F, 40), KING_SPEARS_09(811, 1648, 4.0F, 40), KING_SPEARS_10(810, 1651, 4.0F, 40), KING_SPEARS_11(817, 1649, 4.0F, 40), KING_SPEARS_12(814, 1652, 4.0F, 40), KING_SPEARS_13(819, 1652, 4.0F, 40), KING_SPEARS_14(822, 1649, 4.0F, 40), KING_SPEARS_15(828, 1648, 4.0F, 40), KING_SPEARS_16(833, 1647, 4.0F, 40), KING_SPEARS_17(837, 1644, 4.0F, 40), KING_SPEARS_18(842, 1644, 4.0F, 40), KING_SPEARS_19(846, 1652, 4.0F, 40), KING_SPEARS_20(851, 1643, 4.0F, 40), KING_SPEARS_21(856, 1641, 4.0F, 40), KING_SPEARS_22(860, 1642, 4.0F, 40), KING_SPEARS_23(864, 1642, 4.0F, 40), KING_SPEARS_24(869, 1639, 4.0F, 40), KING_SPEARS_25(872, 1635, 4.0F, 40), KING_SPEARS_26(877, 1633, 4.0F, 40), KING_SPEARS_27(882, 1634, 4.0F, 40), KING_SPEARS_28(873, 1651, 4.0F, 40), KING_SPEARS_29(877, 1649, 4.0F, 40), KING_SPEARS_30(880, 1644, 4.0F, 40), KING_SPEARS_31(882, 1647, 4.0F, 40), KING_SPEARS_32(881, 1650, 4.0F, 40), KING_SPEARS_33(882, 1638, 4.0F, 40), KING_SPEARS_34(884, 1640, 4.0F, 40), KING_SPEARS_35(885, 1643, 4.0F, 40), KING_SPEARS_36(885, 1648, 4.0F, 40), KING_SPEARS_37(886, 1635, 4.0F, 40), KING_SPEARS_38(912, 1639, 4.0F, 40), KING_SPEARS_39(908, 1639, 4.0F, 40), KING_SPEARS_40(904, 1638, 4.0F, 40), KING_SPEARS_41(904, 1641, 4.0F, 40), KING_SPEARS_42(902, 1644, 4.0F, 40), KING_SPEARS_43(900, 1641, 4.0F, 40), KING_SPEARS_44(899, 1646, 4.0F, 40), KING_SPEARS_45(899, 1636, 4.0F, 40), KING_SPEARS_46(895, 1636, 4.0F, 40), KING_SPEARS_47(896, 1639, 4.0F, 40), KING_SPEARS_48(895, 1644, 4.0F, 40), KING_SPEARS_49(894, 1648, 4.0F, 40), KING_SPEARS_50(892, 1642, 4.0F, 40), KING_SPEARS_51(892, 1633, 4.0F, 40), KING_SPEARS_52(890, 1636, 4.0F, 40), KING_SPEARS_53(889, 1650, 4.0F, 40), KING_SPEARS_54(889, 1640, 4.0F, 40), KING_SPEARS_55(889, 1645, 4.0F, 40), PINGNBEI(GOTWaypoint.Pingbei, 2.0F, 50), ANBEI(GOTWaypoint.Anbei, 2.0F, 50), EAST_WATCH(GOTWaypoint.EastWatch, 3.0F, 50), WEST_WATCH(GOTWaypoint.WestWatch, 3.0F, 50), CROWS_NEST(GOTWaypoint.CrowsNest, 3.0F, 250), GRIFFINS_ROOST(GOTWaypoint.GriffinsRoost, 3.0F, 250), BLOODY_GATE(GOTWaypoint.BloodyGate.info(0, -0.5), 3.0F, 250), THE_EYRIE(GOTWaypoint.TheEyrie.info(0, -0.5), 3.0F, 250), GOLDEN_HILL(GOTWaypoint.Goldenhill, 1.0f, 70), VICTARION_LANDING(GOTWaypoint.VictarionLanding, 0.5f, 100), LAST_HEARTH(GOTWaypoint.LastHearth, 1.0f, 70), HOLLOW_HILL(GOTWaypoint.HollowHill, 1.0f, 70), BREAKSTONE_HILL(GOTWaypoint.BreakstoneHill, 1.0f, 70), IRONRATH(GOTWaypoint.Ironrath, 1.0f, 70), HIGHPOINT(GOTWaypoint.Highpoint, 1.0f, 70), DEEPWOOD_MOTTE(GOTWaypoint.DeepwoodMotte, 1.0f, 70), BARROWTOWN(GOTWaypoint.Barrowtown, 2.0f, 150), HAMMERHORN(GOTWaypoint.Hammerhorn, 1.0f, 70), HARRIDAN_HILL(GOTWaypoint.HarridanHill, 1.0f, 70), DRAGONSTONE(GOTWaypoint.Dragonstone, 1.0f, 70), GREYWATER_WATCH(GOTWaypoint.GreywaterWatch, 0.5f, 70), TITS_1(GOTWaypoint.Pennytree.info(0, 1), 1.0f, 70), TITS_2(GOTWaypoint.Pennytree.info(0, -1), 1.0f, 70), VAES_DOTHRAK(GOTWaypoint.VaesDothrak.info(0, -2), 5.0f, 250), MOAT_KAILIN(GOTWaypoint.MoatKailin, 1.0f, 70), NAGGA_HILL(GOTWaypoint.NaggaHill, 1.0f, 70), PYKE(GOTWaypoint.Pyke, 1.0f, 70), FIST(GOTWaypoint.Fist, 5.0f, 250), HIGHGARDEN(GOTWaypoint.Highgarden.info(-1, 1), 1.0f, 120), HORN_HILL(GOTWaypoint.HornHill, 1.5f, 120), UPLDANDS(GOTWaypoint.Uplands, 1.5f, 120), STORMS_END(GOTWaypoint.StormsEnd.info(0, 0.5), 1.0f, 70), AEGON(GOTWaypoint.Aegon, 2.5f, 150), VISENYA(GOTWaypoint.Visenya, 1.5f, 120), RAENYS(GOTWaypoint.Raenys, 1.5f, 120), OLDTOWN_1(388, 1946, 1.0f, 70), OLDTOWN_2(389, 1944, 1.0f, 70), OLDTOWN_3(391, 1944, 1.0f, 70);

	public int xCoord;
	public int zCoord;
	public float height;
	public int range;
	public int lavaRange;

	GOTMountains(double x, double z, float h, int r) {
		this(x, z, h, r, 0);
	}

	GOTMountains(double x, double z, float h, int r, int l) {
		xCoord = GOTWaypoint.mapToWorldX(x);
		zCoord = GOTWaypoint.mapToWorldZ(z);
		height = h;
		range = r;
		lavaRange = l;
	}

	GOTMountains(GOTAbstractWaypoint waypoint, float h, int r) {
		this(waypoint.getX(), waypoint.getY(), h, r, 0);
	}

	public static int getLavaHeight(int x, int z) {
		for (GOTMountains m : values()) {
			double dx;
			double dz;
			if (m.lavaRange <= 0 || (dx = x - m.xCoord) * dx + (dz = z - m.zCoord) * dz >= (m.lavaRange + 6) * (m.lavaRange + 6)) {
				continue;
			}
			return Math.round(m.getLavaCraterHeight() * 110.0f);
		}
		return 0;
	}

	public static float getTotalHeightBoost(int x, int z) {
		float f = 0.0f;
		for (GOTMountains m : values()) {
			f += m.getHeightBoost(x, z);
		}
		return f;
	}

	public static boolean mountainAt(int x, int z) {
		return getTotalHeightBoost(x, z) > 0.005f;
	}

	public static boolean mountainNear(int x, int z, int range) {
		for (GOTMountains m : values()) {
			double dx = x - m.xCoord;
			double dz = z - m.zCoord;
			double distSq = dx * dx + dz * dz;
			double mtnRange = range + m.range;
			double rangeSq = mtnRange * mtnRange;
			if (distSq > rangeSq) {
				continue;
			}
			return true;
		}
		return false;
	}

	public float getHeightBoost(int x, int z) {
		double dx = x - xCoord;
		double dz = z - zCoord;
		double distSq = dx * dx + dz * dz;
		double rangeSq = range * range;
		if (distSq < rangeSq) {
			if (lavaRange > 0 && distSq < lavaRange * lavaRange) {
				return getLavaCraterHeight();
			}
			double dist = Math.sqrt(distSq);
			float f = (float) (dist / range);
			return (1.0f - f) * height;
		}
		return 0.0f;
	}

	public float getLavaCraterHeight() {
		return (1.0f - (float) lavaRange / range) * height * 0.4f;
	}
}
